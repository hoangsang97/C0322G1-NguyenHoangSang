<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<input type="button" value="ON/OFF" onclick="clickMe(lampButton)">
<p id="display"></p>
<script>
    class Button {
        constructor(lamp) {
            this.lamp = lamp;
            this.status = false;
        }

        setLamp(lamp) {
            this.lamp = lamp;
        }

        getLamp() {
            return this.lamp;
        }

        getStatus() {
            return this.status;
        }

        connectLamp(electricLamp) {
            this.electricLamp = electricLamp;
        }

        switchOff() {
            this.status = true;
            this.electricLamp.turnOff();
        }

        switchOn() {
            this.status = false;
            this.electricLamp.turnOn();
        }

        decrease() {
            if (this.lamp > 0) {
                this.lamp--;
            } else {
                alert('Đã hết lượt bật tắt');
            }
        }
    }

    class ElectricLamp {
        constructor() {
            this.status = false;
        }

        turnOff() {
            this.status = true;
        }

        turnOn() {
            this.status = false;
        }
    }

    let electricLamp = new ElectricLamp();
    let lampButton = new Button(10);

    lampButton.connectLamp(electricLamp);

    function clickMe(obj) {
        if (obj.getStatus()) {
            obj.switchOn();
            obj.decrease();
            document.getElementById('display').innerHTML = ('Bóng đèn đang bật,' + ' Lượt bật/tắt còn ' + obj.getLamp() + '<br>');
        } else {
            obj.switchOff();
            obj.decrease();
            document.getElementById('display').innerHTML = ('Bóng đèn đang tắt,' + ' Lượt bật/tắt còn ' + obj.getLamp() + '<br>');
        }
    }

    clickMe(lampButton);
</script>
</body>
</html>